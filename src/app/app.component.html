<!-- Chatbot Main Container -->
<div class="chat-root">
  <div class="chat-messages" #chatContainer>
    <ng-container *ngIf="messages().length; else emptyState">
      <ng-container *ngFor="let message of messages()">
        <!-- Bot message -->
        <div class="chat-row bot-row">
          <div class="chat-avatar bot-avatar">
            <img src="/images/man.webp" alt="Man" />
          </div>
          <div class="chat-bubble bot-bubble">{{ message.question }}</div>
        </div>
        <!-- User message (avatar on right) -->
        <div class="chat-row">
          <div class="chat-bubble user-bubble">{{ message.answer }}</div>
          <div class="chat-avatar user-avatar">
            <img src="/images/woman.jpg" alt="User" />
          </div>
        </div>
      </ng-container>
    </ng-container>
    <ng-template #emptyState>
      <div class="empty-chat-state">
        <div class="chat-avatar user-avatar">
          <img src="/images/woman.jpg" alt="Woman" />
        </div>
        <div class="empty-title">Start a conversation </div>
        <div class="empty-desc">Click the microphone below and you can talk to your virtual girlfriend!</div>
      </div>
    </ng-template>
  </div>
  <div class="chat-input-row">
    <div class="mic-btn" [class.listening]="isListening()" (click)="startSpeak()">
      <svg focusable="false" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
        <path
          d="M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z">
        </path>
      </svg>
    </div>
  </div>
</div>
<audio hidden id="audio"></audio>
